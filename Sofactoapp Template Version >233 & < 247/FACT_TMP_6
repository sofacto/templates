<apex:page standardController="sofactoapp__Factures_Client__c"
    extensions="sofactoapp.FactureProcessingControllerExtension" renderAs="pdf" showHeader="false" sidebar="false"
    language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}">

    <!-- Styles -->
    <apex:stylesheet value="{!URLFOR($Resource.sofactoapp__INVOICE_STYLE)}" />



    <div class="header">
        <!-- Logo -->
        <apex:outputPanel layout="block">
            <table width="100%" class="borderOff">
                <tr>

                    <td width="60%" style="vertical-align:bottom;padding-left:20px;padding-top:15px;text-align:left">
                        <apex:image
                            value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Logo__c}"
                            height="100" />

                    </td>
                    <td width="40%" class="alignright" style="padding-top:15px;">
                        <!--NUMERO REIMPRESSION/ REPRINT NUMBER
                        <apex:outputPanel rendered="{!sofactoapp__Factures_Client__c.sofactoapp__Duplicata__c == true}">
                            <apex:outputText
                                value="{!$ObjectType.sofactoapp__Facture_pdf__c.Fields.sofactoapp__impressionNumber__c.Label} : {!sofactoapp__Factures_Client__c.sofactoapp__PDF_reference__r.sofactoapp__impressionNumber__c}" />
                        </apex:outputPanel>-->
                        <!--TAMPON DUPLICATA/ STAMP : DUPLICATE-->
                        <!--FR-->
                        <apex:outputPanel
                            rendered="{!AND(sofactoapp__Factures_Client__c.sofactoapp__Duplicata__c,OR(sofactoapp__Factures_Client__c.sofactoapp__Langue__c=='fr_FR',ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Langue__c)))}">
                            <apex:image id="stampDuplicata" alt="Duplicata"
                                value="{!$Resource.sofactoapp__Tampon_Duplicata}" style="width:100px" />
                        </apex:outputPanel>
                        <!--EN-->
                        <apex:outputPanel
                            rendered="{!AND(sofactoapp__Factures_Client__c.sofactoapp__Duplicata__c,sofactoapp__Factures_Client__c.sofactoapp__Langue__c=='en_US')}">
                            <apex:image id="stampDuplicataEN" alt="Duplicata"
                                value="{!$Resource.sofactoapp__Tampon_Duplicata_EN}" style="width:100px" />
                        </apex:outputPanel>

                        <!--TAMPON BROUILLON/ STAMP : DRAFT-->
                        <!--FR-->

                        <apex:outputPanel
                            rendered="{!AND(sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false, ISBLANK($CurrentPage.parameters.proforma),OR(sofactoapp__Factures_Client__c.sofactoapp__Langue__c=='fr_FR',ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Langue__c)))}">
                            <apex:image id="stampBrouillon" alt="Brouillon"
                                value="{!$Resource.sofactoapp__Tampon_Brouillon}" style="width:100px" />
                        </apex:outputPanel>
                        <!--EN-->
                        <apex:outputPanel
                            rendered="{!AND(sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false, ISBLANK($CurrentPage.parameters.proforma),sofactoapp__Factures_Client__c.sofactoapp__Langue__c=='en_US')}">
                            <apex:image id="stampBrouillonEN" alt="Brouillon"
                                value="{!$Resource.sofactoapp__Tampon_Brouillon_EN}" style="width:100px" />
                        </apex:outputPanel>


                        <!--TAMPON Proforma/ STAMP : Proforma-->
                        <apex:outputPanel
                            rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false && NOT(ISBLANK($CurrentPage.parameters.proforma))}">
                            <apex:image id="stampProforma" alt="Proforma"
                                value="{!$Resource.sofactoapp__Tampon_Proforma}" style="width:100px" />
                        </apex:outputPanel>

                        <!--Horodatage/ Timestamp-->
                        <apex:outputPanel style="width:50%;vertical-align:top;font-size:9px;text-align:right">
                            <!--
                                <apex:outputPanel rendered="{!sofactoapp__Factures_Client__c.Nombre_Duplicata__c > 0}">
                                <apex:outputText value="Numéro de réimpression : 1"
                                    rendered="{!sofactoapp__Factures_Client__c.Nombre_Duplicata__c > 0}" />
                            </apex:outputPanel-->
                            <!--
                                <apex:outputPanel rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false && ISBLANK($CurrentPage.parameters.proforma)}">
                                <apex:outputText value="Numéro de réimpression : {!sofactoapp__Factures_Client__c.Nombre_Brouillon__c}"
                                    rendered="{!sofactoapp__Factures_Client__c.Nombre_Brouillon__c > 0}" />
                            </apex:outputPanel-->
                            <!--
                                <apex:outputPanel rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false && NOT(ISBLANK($CurrentPage.parameters.proforma))}">
                                <apex:outputText value="Numéro de réimpression : {!sofactoapp__Factures_Client__c.Nombre_Proforma__c}"
                                    rendered="{!sofactoapp__Factures_Client__c.Nombre_Proforma__c > 0}" />
                            </apex:outputPanel-->


                            <!--Horodatage Proforma/ Timestamp Draft-->
                            <apex:outputPanel
                                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false && NOT(ISBLANK($CurrentPage.parameters.proforma))}">
                                <br />
                                <apex:outputText value="{!$Label.sofactoapp__text_timestamp} : {!NOW()}" />
                            </apex:outputPanel>


                            <!--Horodatage Brouillon/ Timestamp Draft -->
                            <apex:outputPanel
                                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false && ISBLANK($CurrentPage.parameters.proforma)}">
                                <br />
                                <apex:outputText value="{!$Label.sofactoapp__text_timestamp} : {!NOW()}" />
                            </apex:outputPanel>

                            <!--Horodatage Duplicata / Timestamp Duplicate-->
                            <apex:outputPanel rendered="{!sofactoapp__Factures_Client__c.sofactoapp__Duplicata__c}">
                                <br />
                                <apex:outputText value="{!$Label.sofactoapp__text_timestamp} : {!NOW()}" />
                            </apex:outputPanel>

                            <!--Horodatage Original / Timestamp Original-->
                            <apex:outputPanel
                                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == true && sofactoapp__Factures_Client__c.sofactoapp__Duplicata__c==false}">
                                <br />
                                <apex:outputText
                                    value="{!$Label.sofactoapp__text_timestamp} : {!sofactoapp__Factures_Client__c.sofactoapp__issued_Timestamp__c}" />
                            </apex:outputPanel>

                            <!--Numero de page/ Page Number-->
                            <span class="alignright" style="font-size:11px;">
                                <b><br />
                                    <apex:outputText value="{!$Label.sofactoapp__text_pagenumber}" />&nbsp; <span
                                        class="pagenumber" /> /
                                    <span class="pagecount" /></b>
                            </span>

                            <!--Facture Emise
                            <apex:outputPanel
                                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == true && sofactoapp__Factures_Client__c.sofactoapp__Duplicata__c==false}">
                                <br />
                                <apex:outputText
                                    value="{!$Label.sofactoapp__text_timestamp} : {!sofactoapp__Factures_Client__c.sofactoapp__issued_Timestamp__c}" />
                            </apex:outputPanel>-->
                        </apex:outputPanel>
                    </td>

                </tr>
            </table>
        </apex:outputPanel>

    </div>
    <div class="footer">

        <!-- Pied de page/ Footer Brouillon/ Proforma-->
        <apex:outputPanel styleClass="footer_center  small" layout="block" style="font-size: 10px;color:#999999;"
            rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false}">

            <!--Mentions légales/ Legal notice-->
            <b>
                <apex:outputText
                    value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Enseigne__c}"
                    rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Enseigne__c))}" />
                <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.Name}"
                    rendered="{!ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Enseigne__c)}" />
            </b>
            &nbsp;•&nbsp;
            <apex:outputText
                value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Forme_juridique__c}" />
            &nbsp;
            <apex:outputPanel
                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Forme_juridique__c<>'Association'}">
                <apex:outputText value="{!$Label.sofactoapp__text_capitalof}" />&nbsp;
                <sofactoapp:CurrencyFormat
                    p_amount="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Capital_social__c}"
                    p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}" p_scale="2"
                    p_stripTrailingZeros="2" />
                &nbsp;
            </apex:outputPanel>
            <!--Seulement si pays RS = France/ Only if country of corporate name = France-->
            <apex:outputPanel
                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Liste_pays__c='France'}">
                <apex:outputText
                    value="{!$Label.sofactoapp__text_registeredat} {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Ville_RCS__c} {!$Label.sofactoapp__text_numberrcs} {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Lettre_RCS__c} {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__SIREN__c}" />
            </apex:outputPanel>
            <br />

            <!--Coordonnées de votre entreprise/ Your company's address-->
            <apex:outputText
                value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Rue__c}" />
            <apex:outputText
                value=" • {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Code_postal__c} {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Ville__c} • {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Liste_pays__c}" />
            <!--Contact de votre entreprise/ Your companies contact infos-->
            &nbsp;•&nbsp;
            <apex:outputText
                value="{!$Label.sofactoapp__text_telephone} : {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__T_l_phone__c}" />
            &nbsp;•&nbsp;
            <apex:outputText
                value="{!$ObjectType.sofactoapp__Raison_Sociale__c.Fields.sofactoapp__Email__c.Label} : {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Email__c}" />
            &nbsp;•&nbsp;
            <apex:outputText
                value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__website__c}" />
            <br />

            <!--Mentions légales/ Legal notice-->
            <apex:outputPanel
                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Forme_juridique__c<>'Association'}">
                <apex:outputText
                    rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__TVA_intra__c))}"
                    value="{!$Label.sofactoapp__text_intracommunitytva} {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__TVA_intra__c}" />
             
            </apex:outputPanel>

            <!--Seulement si pays RS = France/ Only if country of corporate name = France-->
            <apex:outputPanel
                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Liste_pays__c='France'}">
                &nbsp;•&nbsp;
                <apex:outputText
                    value="{!$Label.sofactoapp__text_ape} {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__APE__c}" />
            </apex:outputPanel>

            <br />
            •&nbsp;•&nbsp;•&nbsp;
        </apex:outputPanel>

        <!-- Pied de page/ Footer Original/ Duplicata-->
        <apex:outputPanel styleClass="footer_center  small" layout="block" style="font-size: 10px;color:#999999;"
            rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == true}">


            <!--Mentions légales/ Legal notice-->
            <b>
                <apex:outputText
                    value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Enseigne__c}"
                    rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Enseigne__c))}" />
                <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.Name}"
                    rendered="{!ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Enseigne__c)}" />
            </b>
            &nbsp;•&nbsp;
            <apex:outputText
                value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Forme_juridique__c}" />
            &nbsp;
            <apex:outputPanel
                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Forme_juridique__c<>'Association'}">
                <apex:outputText value="{!$Label.sofactoapp__text_capitalof}" />&nbsp;
                <sofactoapp:CurrencyFormat
                    p_amount="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Capital_social__c}"
                    p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}" p_scale="2"
                    p_stripTrailingZeros="2" />
                &nbsp;
            </apex:outputPanel>
            <!--Seulement si pays RS = France/ Only if country of corporate name = France-->
            <apex:outputPanel
                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Liste_pays__c='France'}">
                <apex:outputText
                    value="{!$Label.sofactoapp__text_registeredat} {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Ville_RCS__c} {!$Label.sofactoapp__text_numberrcs} {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Lettre_RCS__c} {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__SIREN__c}" />
            </apex:outputPanel>
            <br />
            <!--Coordonnées de votre entreprise/ Your company's address-->
            <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__RS_Rue_Emise__c}" />
            <apex:outputText
                value=" • {!sofactoapp__Factures_Client__c.sofactoapp__RS_Code_postal_Emise__c} {!sofactoapp__Factures_Client__c.sofactoapp__RS_Ville_Emise__c} • {!sofactoapp__Factures_Client__c.sofactoapp__RS_Pays_Emise__c}" />
            &nbsp;•&nbsp;
            <!--Contact de votre entreprise/ Your companies contact infos-->
            <apex:outputText
                value="{!$Label.sofactoapp__text_telephone} : {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__T_l_phone__c}" />
            &nbsp;•&nbsp;
            <apex:outputText
                value="{!$ObjectType.sofactoapp__Raison_Sociale__c.Fields.sofactoapp__Email__c.Label} : {!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Email__c}" />
            &nbsp;•&nbsp;
            <apex:outputText
                value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__website__c}" />
            <br />


            <!--Mentions légales/ Legal notice-->


            <apex:outputPanel
                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Forme_juridique__c<>'Association'}">

                <apex:outputText
                    rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__RS_TVA_intra_Emise__c))}"
                    value="{!$Label.sofactoapp__text_intracommunitytva} : {!sofactoapp__Factures_Client__c.sofactoapp__RS_TVA_intra_Emise__c}" />
                
            </apex:outputPanel>

            <!--Seulement si pays RS = France/ Only if country of corporate name = France-->
            <apex:outputPanel
                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Liste_pays__c='France'}">
                &nbsp;•&nbsp;
                <apex:outputText
                    value="{!$Label.sofactoapp__text_ape} {!sofactoapp__Factures_Client__c.sofactoapp__RS_Code_NAF_Emise__c}" />
            </apex:outputPanel>
            <br />

            •&nbsp;•&nbsp;•

            <br />
        </apex:outputPanel>
    </div>

    <!--Structure principale/ Main structure-->
    <div id="wrap" style="font-family:serif">
        <table>
            <tr>
                <td style="width:60%" class="vtop">
                    <table class="borderOn">
                        <tr class="borderOff">
                            <td colspan="4">
                                <!--Numéro facture - Référence - Sous-Type  - Facture initiale / Invoice number - Reference - Subtype - Original invoice-->
                                <apex:outputPanel style="font-size:25px, text-transform:uppercase;">
                                    <b>
                                        <apex:outputField
                                            value="{!sofactoapp__Factures_Client__c.sofactoapp__Type_de_facture__c}" />
                                    </b>&nbsp;
                                    <br />
                                </apex:outputPanel>

                                <!--Facture émise/ Issued Invoice-->
                                <apex:outputPanel style="font-size:25px"
                                    rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c}">
                                    <apex:outputText
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__Reference__c}" />
                                    &nbsp;<br />
                                </apex:outputPanel>

                                <!--Facture brouillon/ Draft Invoice-->
                                <apex:outputPanel style="font-size:25px"
                                    rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false}">
                                    <apex:outputText value="{!sofactoapp__Factures_Client__c.Name}" />&nbsp;<br />
                                </apex:outputPanel>

                                <!--Brouillon/ Draft-->
                                <apex:outputPanel style="font-size:15px"
                                    rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false && ISBLANK($CurrentPage.parameters.proforma)}">

                                    <apex:outputText value="{!$Label.sofactoapp__text_provisionaldocument}" />
                                    &nbsp;<br />
                                </apex:outputPanel>

                                <!--Proforma-->
                                <apex:outputPanel style="font-size:15px"
                                    rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false && NOT(ISBLANK($CurrentPage.parameters.proforma))}">

                                    <apex:outputText value="{!$Label.sofactoapp__text_provisionaldocument}" />
                                    &nbsp;
                                </apex:outputPanel>


                                <!--Sous-type/ Subtype-->
                                <apex:outputPanel style="font-size:11px"
                                    rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Sous_type__c))}">
                                    <br />
                                    <i>
                                        <apex:outputField
                                            value="{!sofactoapp__Factures_Client__c.sofactoapp__Sous_type__c}" />
                                    </i>
                                    <br />
                                </apex:outputPanel>

                                <!--Numéro de la facture initiale (si type d'avoir)/ Initial invoice number (if credit note)-->
                                <apex:outputPanel layout="none"
                                    rendered="{!NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__Facture_initiale__c))}">
                                    <br />
                                    <apex:outputText
                                        value=" {!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Facture_initiale__c.Label} : " />
                                    <apex:outputText
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__Facture_initiale__r.sofactoapp__Reference__c}" />

                                </apex:outputPanel>

                            </td>
                        </tr>
                        <!-- Saut de ligne/ Line Break -->
                        <tr>
                            <td colspan="4" class="borderOff">
                                &nbsp;</td>
                        </tr>

                        <tr class="borderOff">
                            <td style="width:30%;" class="vtop">
                                <!--Date de facture/ Invoice Date -->
                                <apex:outputText
                                    value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Date_de_facture__c.Label}" />
                                &nbsp;:

                                <!--Date de livraison/ Shipping Date -->
                                <apex:outputPanel
                                    rendered="{!IF(NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Date_de_livraison__c)),'','none')}">
                                    <br />
                                    <apex:outputText
                                        value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Date_de_livraison__c.Label} :" />
                                </apex:outputPanel>

                                <!--Si pas de coordonnées bancaires affichées/ If no bank details displayed-->
                                <!--Date d'échéance/ Due date-->
                                <apex:outputPanel
                                    rendered="{!NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_coordonnees_bancaires__c)}">
                                    <br />
                                    <apex:outputText
                                        value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Ech_ance__c.Label} :" />
                                </apex:outputPanel>

                            </td>
                            <td style="width:70%;" class="alignleft vtop">

                                <!--Date de facture/ Invoice Date -->
                                <apex:outputText value="{0,date,dd'/'MM'/'yyyy}">
                                    <apex:param
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__Date_de_facture__c}" />
                                </apex:outputText>

                                <!--Date de livraison/ Shipping Date -->
                                <apex:outputPanel
                                    rendered="{!IF(NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Date_de_livraison__c)),'','none')}">
                                    <br />
                                    <apex:outputText value="{0,date,dd'/'MM'/'yyyy}">
                                        <apex:param
                                            value="{!sofactoapp__Factures_Client__c.sofactoapp__Date_de_livraison__c}" />
                                    </apex:outputText>
                                </apex:outputPanel>

                                <!--Si pas de coordonnées bancaires affichées/ If no bank details displayed-->

                                <!--Date d'échéance/ Due date-->
                                <apex:outputPanel
                                    rendered="{!NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_coordonnees_bancaires__c)}">
                                    <br />
                                    <apex:outputText value="{0,date,dd'/'MM'/'yyyy}">
                                        <apex:param value="{!sofactoapp__Factures_Client__c.sofactoapp__Ech_ance__c}" />
                                    </apex:outputText>
                                </apex:outputPanel>
                            </td>
                        </tr>
                        <!-- Saut de ligne/ Line Break -->
                        <tr>
                            <td colspan="4"
                                style="line-height:0.1px; border-left: hidden; border-right: hidden; border-bottom:hidden; border-top:0.1px solid grey;">
                                &nbsp;</td>
                        </tr>
                        <tr class="borderOff">
                            <td style="width:30%" class="vtop">
                                <!--V/Ref / Reference-->
                                <apex:outputPanel
                                    rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__V_R_f__c))}"
                                    layout="none">
                                    <apex:outputText
                                        value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__V_R_f__c.Label} :" />
                                    <br />
                                </apex:outputPanel>

                                <!--Numéro compte client/ Client's Account Number-->
                                <apex:outputPanel
                                    rendered="{!AND(NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Compte__r.AccountNumber)),sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__isDisplayAccountNumber__c)}">
                                    <apex:outputText value="{!$ObjectType.Account.Fields.AccountNumber.Label} :" />

                                </apex:outputPanel>

                            </td>
                            <td style="width:70%" class="alignleft vtop">
                                <!--V/Ref / Reference-->
                                <apex:outputPanel
                                    rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__V_R_f__c))}"
                                    layout="none">
                                    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__V_R_f__c}" />
                                    <br />
                                </apex:outputPanel>

                                <!--Numéro compte client/ Client's Account Number-->
                                <apex:outputPanel
                                    rendered="{!AND(NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Compte__r.AccountNumber)),sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__isDisplayAccountNumber__c)}">
                                    <apex:outputText
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.AccountNumber}" />

                                </apex:outputPanel>
                            </td>
                        </tr>
                        <!-- Saut de ligne/ Line Break -->
                        <tr>
                            <td colspan="4"
                                style="line-height:0.1px;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.1px solid grey;">
                                &nbsp;</td>
                        </tr>
                        <tr class="borderOff">
                            <td style="width:30%" class="vtop">
                                <!--Interlocuteur RS venant du compte/ Contact of your company from Account-->
                                <apex:outputPanel
                                    rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__isDisplayAccountOwner__c, '', 'none')}">
                                    <apex:outputText value="{!$Label.sofactoapp__text_yourcontact} :" />
                                    <br />
                                </apex:outputPanel>

                                <!--Interlocuteur RS venant de l'opportunité/ Contact of your company from Opportunity-->
                                <apex:outputPanel
                                    rendered="{!IF(AND(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__isDisplayOpportunityOwner__c,
                                            NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Opportunit__c))), '', 'none')}">
                                    <apex:outputText value="{!$Label.sofactoapp__text_yourcontact} :" />
                                    <br />
                                </apex:outputPanel>

                                <!--Si pas de coordonnées bancaires affichées/ If no bank details displayed-->
                                <apex:outputPanel
                                    rendered="{!NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_coordonnees_bancaires__c)}">

                                    <!--Mode de paiement/ Payment Mode-->
                                    <apex:outputText
                                        value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Payment_mode__c.Label} :" />
                                    <br />

                                    <!--Delai de paiement/ Term of payment-->
                                    <apex:outputText
                                        value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Delai_paiement__c.Label} :" />
                                    <br />

                                </apex:outputPanel>
                            </td>
                            <td style="width:70%" class="borderOff alignleft vtop">
                                <!--Interlocuteur RS venant du compte/ Contact of your company from Account-->
                                <apex:outputPanel
                                    rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__isDisplayAccountOwner__c, '', 'none')}">
                                    <apex:outputText
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.Owner.Name}" />
                                    <br />
                                </apex:outputPanel>
                                <!--Interlocuteur RS venant de l'opportunité/ Contact of your company from Opportunity-->
                                <apex:outputPanel
                                    rendered="{!IF(AND(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__isDisplayOpportunityOwner__c,
                                            NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Opportunit__c))), '', 'none')}">
                                    <apex:outputText
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__Opportunit__r.Owner.Name}" />
                                    <br />
                                </apex:outputPanel>
                                <!--Si pas de coordonnées bancaires affichées/ If no bank details displayed-->
                                <apex:outputPanel
                                    rendered="{!NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_coordonnees_bancaires__c)}">

                                    <!--Mode de paiement/ Payment Mode-->
                                    <apex:outputField
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__Payment_mode__c}" /> <br />

                                    <!--Delai de paiement/ Term of payment-->
                                    <!--Délais pas personnalisé / No customized payment term-->
                                    <apex:outputPanel layout="none"
                                        style="page-break-before:auto; page-break-inside: avoid"
                                        rendered="{!sofactoapp__Factures_Client__c.sofactoapp__Delai_paiement__c !='Délai Personnalisé'}">
                                        <apex:outputPanel
                                            rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Delai_paiement__c))}"
                                            style="display:block;">
                                            <br />

                                            <apex:outputField
                                                value="{!sofactoapp__Factures_Client__c.sofactoapp__Delai_paiement__c}" />
                                        </apex:outputPanel>
                                    </apex:outputPanel>

                                    <!--Délais personnalisé / Customized payment term-->
                                    <apex:outputPanel layout="none"
                                        style="page-break-before:auto; page-break-inside: avoid"
                                        rendered="{!sofactoapp__Factures_Client__c.sofactoapp__Delai_paiement__c =='Délai Personnalisé'}">
                                        <apex:outputPanel
                                            rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Delai_paiement__c))}"
                                            style="display:block;">
                                            <br />
                                            <apex:outputText
                                                value="{!sofactoapp__Factures_Client__c.sofactoapp__NombreDeJoursDelaiPaiement__c} " />
                                            <apex:outputField
                                                value="{!sofactoapp__Factures_Client__c.sofactoapp__MethodeCalculEcheancePaiement__c}" />
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                    <br />

                                </apex:outputPanel>
                            </td>

                        </tr>
                    </table>

                </td>
                <td class="borderOn vtop" style="width:40%">
                    <!--Adresse de facturation / Billing adress-->

                    <!--Brouillon ou Proforma/ Draft or Proforma-->

                    <apex:outputPanel rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false}">
                        <apex:outputText value="{!$Label.sofactoapp__text_adresse_facturation}"
                            style="font-size:9px;text-align:left;color:gray;text-transform:uppercase" /> <br />
                        <apex:outputText style="font-size:15px"
                            value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.Name}" /><br />

                        <apex:outputPanel
                            rendered="{!NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__Contact__c))}">
                            <i>
                                <apex:outputText value="{!$Label.sofactoapp__text_a_l_attention_de}" />
                                &nbsp;
                                <apex:outputText
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__Contact__r.Salutation}" />
                                &nbsp;
                                <apex:outputText
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__Contact__r.FirstName} {!sofactoapp__Factures_Client__c.sofactoapp__Contact__r.LastName}" />
                            </i>
                        </apex:outputPanel>

                        <br />
                        <apex:outputText
                            value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.BillingStreet}" />
                        <br />
                        <apex:outputText
                            value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.BillingPostalCode}" />&nbsp;
                        <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.BillingCity}" />
                        <br />
                        <apex:outputText
                            value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.BillingCountry}" /><br />

                        <apex:outputPanel
                            rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__Amount_VAT__c >= 150,'','none')}">
                            <apex:outputText value="{!$Label.sofactoapp__text_intracommunitytva} : " />
                            <apex:outputText style="text-align:left"
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.sofactoapp__TVA_intra__c}"
                                rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Compte__r.sofactoapp__TVA_intra__c))}" /> <br />
                        </apex:outputPanel>

                        <!--Lettre RCS / Ville RCS / SIREN or NIF // FRANCE ONLY-->

                        <!--Donnée comptable / Accounting Data -->
                        <apex:outputPanel rendered="{!IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__c != null,
                                    sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__r.sofactoapp__Lettre_RCS__c != null,
                                    sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__r.sofactoapp__Pays_facturation__c='France'),
                                    '','none')}">
                            <apex:outputText
                            value="{!$Label.Sofacto_RCS} 
                                                    {!sofactoapp__Factures_Client__c.sofactoapp__Ville_RCS__c}" />
                            <br />
                            <apex:outputText
                            value="{!$Label.Text_NumberRCS} {!sofactoapp__Factures_Client__c.sofactoapp__Lettre_RCS__c} 
                                                    {!sofactoapp__Factures_Client__c.sofactoapp__SIREN_NIF__c}" />
                        </apex:outputPanel>

                        <!--Compte/ Account-->
                        <apex:outputPanel rendered="{!IF(AND(sofactoapp__Factures_Client__c.sofactoapp__Compte__r.BillingCountry = 'France',
                                                (ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__c))),
                                                    '','none')}">
                            <apex:outputText
                            value="{!$Label.Sofacto_RCS} 
                                                {!sofactoapp__Factures_Client__c.sofactoapp__Ville_RCS__c}" />
                            <br />
                            <apex:outputText
                            value="{!$Label.Text_NumberRCS} {!sofactoapp__Factures_Client__c.sofactoapp__Lettre_RCS__c} 
                                                {!sofactoapp__Factures_Client__c.sofactoapp__SIREN_NIF__c}" />
                        </apex:outputPanel>

                        <!--NIF // EXEPT FRANCE-->

                        <!--Donnée comptable / Accounting Data -->
                        <apex:outputPanel rendered="{!IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__c != null,
                                                    sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__r.sofactoapp__SIREN_NIF__c != null,
                                                    sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__r.sofactoapp__Pays_facturation__c !='France'),
                                                    '','none')}">
                            <apex:outputText
                            value="{!$Label.Sofacto_NIF} {!sofactoapp__Factures_Client__c.sofactoapp__SIREN_NIF__c}" />
                        </apex:outputPanel>

                        <!--Compte/ Account-->
                        <apex:outputPanel rendered="{!IF(AND(sofactoapp__Factures_Client__c.sofactoapp__Compte__r.BillingCountry != 'France',
                                                    (ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__c)),
                                                    sofactoapp__Factures_Client__c.sofactoapp__Compte__r.sofactoapp__SIREN_NIF__c != null),
                                                    '','none')}">
                            <apex:outputText
                            value="{!$Label.Sofacto_NIF} {!sofactoapp__Factures_Client__c.sofactoapp__SIREN_NIF__c}" />
                        </apex:outputPanel>

                    </apex:outputPanel>

                    <!--Originale ou Duplicata/ Original or Duplicate-->
                    <apex:outputPanel rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == true}">
                        <apex:outputText value="{!$Label.sofactoapp__text_adresse_facturation}"
                            style="font-size:9px;text-align:left;color:gray;text-transform:uppercase" /> <br />

                        <apex:outputText style="font-size:15px;text-align:left"
                            value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Nom_du_compte_Emise__c}" />
                        <br />


                        <apex:outputPanel style="text-align:left" layout="none"
                            rendered="{!NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__ACC_Nom_contact_Emise__c))}">

                            <i>
                                <apex:outputText value="{!$Label.sofactoapp__text_a_l_attention_de}" />&nbsp;
                                <apex:outputText
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__Contact__r.Salutation}" />
                                &nbsp;
                                <apex:outputText
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Nom_contact_Emise__c}" />
                            </i>
                        </apex:outputPanel>
                        <br />
                        <apex:outputText style="text-align:left"
                            value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Rue_Facturation_Emise__c}" />
                        <br />
                        <apex:outputText style="text-align:left"
                            value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Code_Postal_Compte_Emise__c} {!sofactoapp__Factures_Client__c.sofactoapp__ACC_Ville_facturation_emise__c}" />
                        <br />
                        <apex:outputText style="text-align:left"
                            value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Pays_Facturation_emise__c}" />
                        <br />
                        <apex:outputPanel
                            rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__Amount_VAT__c >= 150,'','none')}">
                            <apex:outputText value="{!$ObjectType.Account.Fields.sofactoapp__TVA_intra__c.Label} : " />
                            <apex:outputText style="text-align:left"
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_TVA_intra_Emise__c}" /> <br />
                        </apex:outputPanel>

                        <!--Lettre RCS / Ville RCS / SIREN or NIF // FRANCE ONLY-->

                        <!--Donnée comptable / Accounting Data -->
                        <apex:outputPanel rendered="{!IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__c != null,
                                    sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__r.sofactoapp__Lettre_RCS__c != null,
                                    sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__r.sofactoapp__Pays_facturation__c='France'),
                                    '','none')}">
                            <apex:outputText
                            value="{!$Label.Sofacto_RCS} 
                                                    {!sofactoapp__Factures_Client__c.sofactoapp__Ville_RCS__c}" />
                            <br />
                            <apex:outputText
                            value="{!$Label.Text_NumberRCS} {!sofactoapp__Factures_Client__c.sofactoapp__Lettre_RCS__c} 
                                                    {!sofactoapp__Factures_Client__c.sofactoapp__SIREN_NIF__c}" />
                        </apex:outputPanel>

                        <!--Compte/ Account-->
                        <apex:outputPanel rendered="{!IF(AND(sofactoapp__Factures_Client__c.sofactoapp__Compte__r.BillingCountry = 'France',
                                                (ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__c))),
                                                    '','none')}">
                            <apex:outputText
                            value="{!$Label.Sofacto_RCS} 
                                                {!sofactoapp__Factures_Client__c.sofactoapp__Ville_RCS__c}" />
                            <br />
                            <apex:outputText
                            value="{!$Label.Text_NumberRCS} {!sofactoapp__Factures_Client__c.sofactoapp__Lettre_RCS__c} 
                                                {!sofactoapp__Factures_Client__c.sofactoapp__SIREN_NIF__c}" />
                        </apex:outputPanel>

                        <!--NIF // EXEPT FRANCE-->

                        <!--Donnée comptable / Accounting Data -->
                        <apex:outputPanel rendered="{!IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__c != null,
                                                    sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__r.sofactoapp__SIREN_NIF__c != null,
                                                    sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__r.sofactoapp__Pays_facturation__c !='France'),
                                                    '','none')}">
                            <apex:outputText
                            value="{!$Label.Sofacto_NIF} {!sofactoapp__Factures_Client__c.sofactoapp__SIREN_NIF__c}" />
                        </apex:outputPanel>

                        <!--Compte/ Account-->
                        <apex:outputPanel rendered="{!IF(AND(sofactoapp__Factures_Client__c.sofactoapp__Compte__r.BillingCountry != 'France',
                                                    (ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__c)),
                                                    sofactoapp__Factures_Client__c.sofactoapp__Compte__r.sofactoapp__SIREN_NIF__c != null),
                                                    '','none')}">
                            <apex:outputText
                            value="{!$Label.Sofacto_NIF} {!sofactoapp__Factures_Client__c.sofactoapp__SIREN_NIF__c}" />
                        </apex:outputPanel>

                    </apex:outputPanel>

                    <br /><br />

                    <!-- Adresse d'expedition/ Shipping Address  -->

                    <!--Brouillon ou Proforma/ Draft or Proforma-->
                    <apex:outputPanel rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false}">

                        <apex:outputPanel
                            rendered="{!IF(NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Compte__r.ShippingStreet)), '', 'none')}">

                            <apex:outputText value="{!$Label.sofactoapp__text_adresse_livraison}"
                                style="font-size:9px;text-align:left;color:gray;text-transform:uppercase" /><br />
                            <apex:outputText style="font-size:15px;"
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.Name}" />
                            <apex:outputPanel layout="none"
                                rendered="{!NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__ACC_Nom_contact_Emise__c))}">
                                <br />
                                <i>
                                    <apex:outputText value="{!$Label.sofactoapp__text_a_l_attention_de}" />&nbsp;
                                    <apex:outputText
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__Contact__r.Salutation}" />
                                    &nbsp;
                                    <apex:outputText
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Nom_contact_Emise__c}" />
                                </i>

                            </apex:outputPanel>
                            <br />
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.ShippingStreet}" />
                            <br />
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.ShippingPostalCode}" />
                            &nbsp;
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.ShippingCity}" />
                            <br />
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.ShippingCountry}" />
                            <br />
                        </apex:outputPanel>
                        <apex:outputPanel
                            rendered="{!IF(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Compte__r.ShippingStreet), '', 'none')}">
                            <i>
                                <apex:outputText value="{!$Label.sofactoapp__text_adresse_livraison}"
                                    style="font-size:7px" />
                            </i>
                            <br />
                            <b>
                                <apex:outputText
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Nom_du_compte_Emise__c}" />
                            </b>
                            <br />
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Rue_Facturation_Emise__c}" />
                            <br />
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Code_Postal_Compte_Emise__c} {!sofactoapp__Factures_Client__c.sofactoapp__ACC_Ville_facturation_emise__c}" />
                            <br />
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Pays_Facturation_emise__c}" />
                        </apex:outputPanel>
                    </apex:outputPanel>

                    <!--Originale ou Duplicata/ Original or Duplicate-->
                    <apex:outputPanel rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == true}">
                        <apex:outputPanel
                            rendered="{!IF(NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Compte__r.ShippingStreet)), '', 'none')}">
                            <apex:outputText value="{!$Label.sofactoapp__text_adresse_livraison}"
                                style="font-size:9px;text-align:left;color:gray;text-transform:uppercase" /><br />

                            <apex:outputText style="font-size:15px;"
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Nom_du_compte_Emise__c}" />

                            <apex:outputPanel layout="none"
                                rendered="{!NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__ACC_Nom_contact_Emise__c))}">
                                <br />
                                <i>
                                    <apex:outputText value="{!$Label.sofactoapp__text_a_l_attention_de}" />
                                    &nbsp;
                                    <apex:outputText
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__Contact__r.Salutation}" />
                                    &nbsp;
                                    <apex:outputText
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Nom_contact_Emise__c}" />
                                </i>
                            </apex:outputPanel>
                            <br />
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Rue_d_exp_dition_emise__c}" />
                            <br />
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Code_postal_d_exp_dition_emise__c}" />
                            &nbsp;
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Ville_d_exp_dition_emise__c}" />
                            <br />
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Pays_d_exp_dition_emise__c}" />
                            <br />
                        </apex:outputPanel>
                        <apex:outputPanel
                            rendered="{!IF(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Compte__r.ShippingStreet), '', 'none')}">
                            <i>
                                <apex:outputText value="{!$Label.sofactoapp__text_adresse_livraison}"
                                    style="font-size:7px" />
                            </i>
                            <br />
                            <b>
                                <apex:outputText
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Nom_du_compte_Emise__c}" />
                            </b>
                            <br />
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Rue_Facturation_Emise__c}" />
                            <br />
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Code_Postal_Compte_Emise__c} {!sofactoapp__Factures_Client__c.sofactoapp__ACC_Ville_facturation_emise__c}" />
                            <br />
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__ACC_Pays_Facturation_emise__c}" />
                        </apex:outputPanel>
                    </apex:outputPanel>
                </td>
            </tr>
        </table>
        <table>
            <!-- Saut de ligne/ Line Break -->
            <tr>
                <td colspan="2">&nbsp;</td>
            </tr>
            <tr>
                <td>
                    <!--Objet de la facture/ Invoice Subject-->
                    <apex:outputPanel
                        rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Objet_Facture__c))}"
                        layout="none">

                        <b>
                            <apex:outputText
                                value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Objet_Facture__c.Label} :" />
                        </b>
                        <br />
                        <apex:outputText style="font-size:20px;"
                            value="{!sofactoapp__Factures_Client__c.sofactoapp__Objet_Facture__c}" /><br />
                        <br />
                    </apex:outputPanel>
                    <!--Commentaire/ Comment-->
                    <apex:outputPanel
                        rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Commentaires__c))}"
                        layout="none">

                        <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Commentaires__c}" />

                    </apex:outputPanel>
                </td>
            </tr>
        </table>
        <table>

            <!-- Lignes de facture/ Invoice line items -->

            <!-- En-tête produits/ Header Invoice Table -->
            <apex:outputPanel layout="block">
                <table class="borderOn" width="100%">
                    <tr>
                        <td class="borderOff" colspan="6"></td>
                    </tr>
                    <tr>
                        <th class="borderOff"> </th>

                        <!--Désignation/ Description-->
                        <th class="alignleft"
                            style="text-transform:uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <apex:outputText
                                value="{!$ObjectType.sofactoapp__Ligne_de_Facture__c.fields.sofactoapp__Description__c.label}" />
                        </th>

                        <!--Prix unitaire/ Unit Price-->
                        <th class="aligncenter"
                            style="text-transform:uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <apex:outputText
                                value="{!$ObjectType.sofactoapp__Ligne_de_Facture__c.fields.sofactoapp__Prix_Unitaire_HT__c.label}" />
                        </th>

                        <!--Quantité/ Quantity-->
                        <th class="aligncenter"
                            style="text-transform:uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <apex:outputText
                                value="{!$ObjectType.sofactoapp__Ligne_de_Facture__c.fields.sofactoapp__Quantit__c.label}" />
                        </th>

                        <!--Remise ligne/ Line Item Discount-->
                        <th class="aligncenter"
                            style="text-transform:uppercase;display:{!IF(AND(sofactoapp__factures_client__c.sofactoapp__Montant_remise_lignes__c > 0,sofactoapp__factures_client__c.sofactoapp__Afficher_remise__c==true), '', 'none')};border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <apex:outputText value="{!$Label.sofactoapp__text_remise}" />
                        </th>

                        <!--Taux de TVA/ VAT Rate-->
                        <th class="aligncenter"
                            style="text-transform:uppercase; display:{!IF(sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,'', 'none')};border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <apex:outputText value="{!$Label.sofactoapp__text_tva}" />
                        </th>

                        <!--Pourcentage Echeancier de facturation/ Percent Invoice Schedule-->
                        <th class="aligncenter"
                            style="display:{!IF(sofactoapp__Factures_Client__c.sofactoapp__Afficher_pourcentage__c, '', 'none')};text-transform:uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <apex:outputText value="{!$Label.sofactoapp__text_percentbilled}" />
                        </th>

                        <!--Montant HT/ Gross Amount-->
                        <th class="alignright"
                            style="text-transform:uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <apex:outputText
                                value="{!$ObjectType.sofactoapp__Ligne_de_Facture__c.fields.sofactoapp__Montant_total_HT__c.label}" />
                        </th>
                    </tr>

                    <!-- Pour chaque poste de facture/ For each invoice line item -->
                    <apex:repeat value="{!orderedInvoiceLineItems}" var="orderedLigne" id="orderedLignes">
                        <apex:repeat value="{!sofactoapp__Factures_Client__c.sofactoapp__Lignes_de_Facture__r}"
                            var="ligne">
                            <apex:outputPanel layout="none" rendered="{!ligne.Id == orderedLigne}">
                                <tr style="vertical-align:top;page-break-inside: avoid;page-break-before:auto">

                                    <!--Désignation/ Description-->
                                    <td class="borderOff"></td>
                                    <td class="alignleft">
                                        <apex:outputText value="{!ligne.sofactoapp__Description__c}" />
                                        <apex:outputpanel layout="none"
                                            rendered="{!sofactoapp__Factures_Client__c.sofactoapp__Afficher_details_produit__c}">
                                            <br /><i>
                                                <apex:outputText value="{!ligne.sofactoapp__Produit__r.Description}"
                                                    style="font-size:11px" /></i>
                                        </apex:outputPanel>
                                        <apex:outputpanel layout="none"
                                            rendered="{!sofactoapp__Factures_Client__c.sofactoapp__Afficher_description_detaillee__c}">
                                            <br /><span style="font-style: italic;">
                                                <apex:outputText value="{!ligne.sofactoapp__Description_detaillee__c}"
                                                    style="font-size:11px;" /></span>
                                        </apex:outputPanel>
                                    </td>

                                    <!--Prix unitaire/ Unit Price-->
                                    <td class="alignright">
                                        <sofactoapp:CurrencyFormat p_scale="2" p_stripTrailingZeros="2"
                                            p_amount="{!ligne.sofactoapp__Prix_Unitaire_HT__c}" p_currency=""
                                            rendered="{!sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0}"
                                            p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}" />
                                        <sofactoapp:CurrencyFormat p_scale="2" p_stripTrailingZeros="2"
                                            p_amount="{!ligne.sofactoapp__Prix_Unitaire_HT__c}" p_currency=""
                                            rendered="{!NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0)}"
                                            p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}" />
                                    </td>

                                    <!--Quantité/ Quantity-->
                                    <td class="aligncenter">
                                        <apex:outputText value="{!ligne.sofactoapp__Quantit__c}" />
                                    </td>

                                    <!--Remise ligne/ Line Item Discount-->
                                    <td class="aligncenter"
                                        style="display:{!IF(AND(sofactoapp__factures_client__c.sofactoapp__Montant_remise_lignes__c > 0,sofactoapp__factures_client__c.sofactoapp__Afficher_remise__c==true), '', 'none')}">
                                        <apex:outputPanel
                                            rendered="{!IF(ligne.sofactoapp__Taux_Remise_2__c!=0,'', 'none')}">
                                            <apex:outputText value="{0, number, ###.00}%">
                                                <apex:param value="{!ligne.sofactoapp__Taux_Remise_2__c}" />
                                            </apex:outputText>
                                        </apex:outputPanel>
                                        <apex:outputPanel
                                            rendered="{!IF(ligne.sofactoapp__Taux_Remise_2__c ==0,'', 'none')}">
                                            <apex:outputText value=" " />
                                        </apex:outputPanel>
                                    </td>

                                    <!--Taux de TVA/ VAT Rate-->
                                    <td class="aligncenter"
                                        style="display:{!IF(sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,'', 'none')}">
                                        <apex:outputText value="{!ligne.sofactoapp__Taux_de_TVA_list__c}" />
                                    </td>

                                    <!--Pourcentage Echeancier de facturation/ Percent Invoice Schedule-->
                                    <td class="aligncenter"
                                        style="display:{!IF(sofactoapp__Factures_Client__c.sofactoapp__Afficher_pourcentage__c, '', 'none')}">
                                        <apex:outputPanel
                                            rendered="{!IF(NOT(ISBLANK(ligne.sofactoapp__Pourcentage__c)),'', 'none')}">
                                            <apex:outputText value="{0, number, ###.00}%">
                                                <apex:param value="{!ligne.sofactoapp__Pourcentage__c}" />
                                            </apex:outputText>
                                        </apex:outputPanel>
                                        <apex:outputPanel
                                            rendered="{!IF(ISBLANK(ligne.sofactoapp__Pourcentage__c),'', 'none')}">
                                            <apex:outputText value=" " />
                                        </apex:outputPanel>
                                    </td>

                                    <!--Montant HT/ Gross Amount-->
                                    <td class="alignright">
                                        <sofactoapp:CurrencyFormat p_amount="{!ligne.sofactoapp__Montant_total_HT__c}"
                                            p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"
                                            p_scale="2" p_stripTrailingZeros="2" />
                                    </td>
                                </tr>
                            </apex:outputPanel>
                        </apex:repeat>
                    </apex:repeat>

                    <apex:variable var="colspan1" value="{!IF(AND(sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,
                                    sofactoapp__factures_client__c.sofactoapp__Montant_remise_lignes__c > 0,
                                    sofactoapp__factures_client__c.sofactoapp__Afficher_pourcentage__c),6,
                                    IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c = 0,
                                        sofactoapp__factures_client__c.sofactoapp__Montant_remise_lignes__c > 0,
                                        sofactoapp__factures_client__c.sofactoapp__Afficher_pourcentage__c), 5,
                                        IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c = 0,
                                            NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0),
                                            sofactoapp__factures_client__c.sofactoapp__Afficher_pourcentage__c),4,
                                            IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c = 0,
                                                NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0),
                                                NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_pourcentage__c)), 3,
                                                    IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,
                                                        NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0),
                                                        NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_pourcentage__c)), 4,
                                                            IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,
                                                                sofactoapp__factures_client__c.sofactoapp__Montant_remise_lignes__c > 0,
                                                                NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_pourcentage__c)), 5,
                                                                    IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,
                                                                        NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0),
                                                                        sofactoapp__factures_client__c.sofactoapp__Afficher_pourcentage__c), 5,
                                                                            4)))))))}" />

                    <apex:variable var="colspan2" value="{!IF(AND(sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,
                                    sofactoapp__factures_client__c.sofactoapp__Montant_remise_lignes__c > 0,
                                    sofactoapp__factures_client__c.sofactoapp__Afficher_pourcentage__c),5,
                                    IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c = 0,
                                        sofactoapp__factures_client__c.sofactoapp__Montant_remise_lignes__c > 0,
                                        sofactoapp__factures_client__c.sofactoapp__Afficher_pourcentage__c), 4,
                                        IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c = 0,
                                            NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0),
                                            sofactoapp__factures_client__c.sofactoapp__Afficher_pourcentage__c),3,
                                            IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c = 0,
                                                NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0),
                                                NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_pourcentage__c)), 2,
                                                    IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,
                                                        NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0),
                                                        NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_pourcentage__c)), 3,
                                                            IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,
                                                                sofactoapp__factures_client__c.sofactoapp__Montant_remise_lignes__c > 0,
                                                                NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_pourcentage__c)), 4,
                                                                    IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,
                                                                        NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0),
                                                                        sofactoapp__factures_client__c.sofactoapp__Afficher_pourcentage__c), 4,
                                                                            3)))))))}" />
                    <apex:variable var="colspan3" value="{!IF(AND(sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,
                                    sofactoapp__factures_client__c.sofactoapp__Montant_remise_lignes__c > 0,
                                    sofactoapp__factures_client__c.sofactoapp__Afficher_pourcentage__c),6,
                                    IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c = 0,
                                        sofactoapp__factures_client__c.sofactoapp__Montant_remise_lignes__c > 0,
                                        sofactoapp__factures_client__c.sofactoapp__Afficher_pourcentage__c), 5,
                                        IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c = 0,
                                            NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0),
                                            sofactoapp__factures_client__c.sofactoapp__Afficher_pourcentage__c),4,
                                            IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c = 0,
                                                NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0),
                                                NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_pourcentage__c)), 3,
                                                    IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,
                                                        NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0),
                                                        NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_pourcentage__c)), 4,
                                                            IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,
                                                                sofactoapp__factures_client__c.sofactoapp__Montant_remise_lignes__c > 0,
                                                                NOT(sofactoapp__Factures_Client__c.sofactoapp__Afficher_pourcentage__c)), 5,
                                                                    IF(AND (sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,
                                                                        NOT(sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c > 0),
                                                                        sofactoapp__factures_client__c.sofactoapp__Afficher_pourcentage__c), 5,
                                                                            4)))))))}" />





                    <!-- Saut de ligne/ Line Break -->
                    <tr
                        style="display:{!IF (sofactoapp__Factures_Client__c.sofactoapp__Discount_amount__c != 0, '', 'none')}">
                        <td class="borderOff"></td>
                    </tr>
                    <!-- Remise facture -->
                    <tr
                        style="display:{!IF (sofactoapp__Factures_Client__c.sofactoapp__Discount_amount__c != 0, '', 'none')}">
                        <th class="borderOff"></th>
                        <th class="alignleft" colspan="{!colspan3}"
                            style="border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;text-transform:uppercase">
                            <apex:outputText value="{!$Label.sofactoapp__text_remiseglobale}" />
                        </th>
                        <th class="alignright"
                            style="border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;text-transform:uppercase">
                            <apex:outputText
                                value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Discount_amount__c.Label}" />
                        </th>
                    </tr>
                    <tr
                        style="display:{!IF (sofactoapp__Factures_Client__c.sofactoapp__Discount_amount__c != 0, '', 'none')}">
                        <td class="borderOff"></td>
                        <td class="alignleft" colspan="{!colspan2}">
                            <apex:outputText
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__Discount_description__c}" />
                        </td>
                        <td class="aligncenter">
                            <apex:outputText value="{0, number, ###.00}%">
                                <apex:param value="{!sofactoapp__Factures_Client__c.sofactoapp__Taux_Remise_2__c}" />
                            </apex:outputText>

                        </td>
                        <td class="alignright">
                            <sofactoapp:CurrencyFormat
                                p_amount="{!sofactoapp__Factures_Client__c.sofactoapp__Discount_amount__c}"
                                p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}" p_scale="2"
                                p_stripTrailingZeros="2" />
                        </td>
                    </tr>
                    <!-- Saut de ligne/ Line Break -->
                    <tr>
                        <td class="borderOff" colspan="6"></td>
                    </tr>

                    <!--Tableau Répartition TVA/ VAT Distribution Table

                    <tr
                        style="page-break-inside: avoid;page-break-before:auto;font-size:10px;font-weight:bold;display:{!IF(sofactoapp__Factures_Client__c.sofactoapp__Afficher_Tableau_Repartition_TVA__c, '', 'none')};text-transform:uppercase">
                        <td colspan="{!colspan1}" class="borderOff"></td>
                        <td class="alignleft"
                            style="border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;width:20%">
                            <apex:outputText value="{!$Label.sofactoapp__text_vatallocation}" />
                        </td>
                        <td class="alignright"
                            style="border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;width:15%">
                            <apex:outputText value="{!$Label.sofactoapp__text_vatamount}" />
                        </td>

                    </tr>

                    <!--TVA 20%/ VAT 20%

                    <tr
                        style="font-size:10px;display:{!IF(sofactoapp__Factures_Client__c.TVA_20_0__c != 0 && sofactoapp__factures_client__c.sofactoapp__Afficher_Tableau_Repartition_TVA__c,'', 'none')};">
                        <td colspan="{!colspan1}" class="borderOff"></td>
                        <td style="width:20%" class="alignleft">
                            <apex:outputText value="{!$Label.sofactoapp__text_vatrate}" /> &nbsp;
                            <apex:outputPanel rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_20_0__c != 0,'', 'none')}">
                                <apex:outputText value="20%" />
                            </apex:outputPanel>
                        </td>
                        <td class="alignright" style="width:15%">
                            <apex:outputPanel rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_20_0__c != 0,'', 'none')}">
                                <sofactoapp:CurrencyFormat p_amount="{!sofactoapp__Factures_Client__c.sofactoapp__TVA_20_0__c}" p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"/>
                            </apex:outputPanel>
                        </td>


                    </tr>


                    <!--TVA 10%/ VAT 10%

                    <tr
                        style="font-size:10px;display:{!IF(sofactoapp__Factures_Client__c.TVA_10_0__c != 0 && sofactoapp__factures_client__c.sofactoapp__Afficher_Tableau_Repartition_TVA__c,'', 'none')};">
                        <td colspan="{!colspan1}" class="borderOff"></td>
                        <td style="width:20%" class="alignleft">
                            <apex:outputText value="{!$Label.sofactoapp__text_vatrate}" />&nbsp;
                            <apex:outputPanel rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_10_0__c != 0,'', 'none')}">
                                <apex:outputText value="10%" />
                            </apex:outputPanel>
                        </td>
                        <!--td class="alignright" style="width:10%">
                                <apex:outputPanel style="font-size:10px"
                                    rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_10_0__c != 0,'', 'none')}">
                                    <sofactoapp:CurrencyFormat p_amount="{!sofactoapp__Factures_Client__c.Total_HT_soumis_a_10_de_TVA__c}" p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"/>
                                </apex:outputPanel>
                            </td
                        <td class="alignright" style="width:15%">
                            <apex:outputPanel rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_10_0__c != 0,'', 'none')}">
                                <sofactoapp:CurrencyFormat p_amount="{!sofactoapp__Factures_Client__c.sofactoapp__TVA_10_0__c}" p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"/>
                            </apex:outputPanel>
                        </td>

                        <!--td class="alignright" style="width:10%">
                                <apex:outputPanel style="font-size:10px"
                                    rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_10_0__c != 0,'', 'none')}">
                                    <sofactoapp:CurrencyFormat p_amount="{!sofactoapp__Factures_Client__c.Total_TTC_10_de_TVA__c}" p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"/>
                                </apex:outputPanel>
                            </td

                    </tr>


                    <!--TVA 5,5%/ VAT 5,5%

                    <tr
                        style="font-size:10px;display:{!IF(sofactoapp__Factures_Client__c.TVA_5_5__c != 0 && sofactoapp__factures_client__c.sofactoapp__Afficher_Tableau_Repartition_TVA__c,'', 'none')};">
                        <td colspan="{!colspan1}" class="borderOff"></td>
                        <td style="width:20%" class="alignleft">
                            <apex:outputText value="{!$Label.sofactoapp__text_vatrate}" />&nbsp;
                            <apex:outputPanel rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_5_5__c != 0,'', 'none')}">
                                <apex:outputText value="5,5%" />
                            </apex:outputPanel>
                        </td>
                        <!--td class="alignright" style="width:10%">
                                <apex:outputPanel style="font-size:10px"
                                    rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_5_5__c != 0,'', 'none')}">
                                    <sofactoapp:p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}" p_amount="{!sofactoapp__Factures_Client__c.Total_HT_soumis_a_5_5_de_TVA__c}" />
                                </apex:outputPanel>
                            </td
                        <td class="alignright" style="width:15%">
                            <apex:outputPanel rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_5_5__c != 0,'', 'none')}">
                                <sofactoapp:CurrencyFormat p_amount="{!sofactoapp__Factures_Client__c.sofactoapp__TVA_5_5__c}" p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"/>
                            </apex:outputPanel>
                        </td>

                        <!--td class="alignright" style="width:10%">
                                <apex:outputPanel style="font-size:10px"
                                    rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_5_5__c != 0,'', 'none')}">
                                    <sofactoapp:CurrencyFormat p_amount="{!sofactoapp__Factures_Client__c.Total_TTC_5_5_de_TVA__c}" p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"/>
                                </apex:outputPanel>
                            </td

                    </tr>
                    <!--TVA 2,1%/ VAT 2,1%

                    <tr
                        style="font-size:10px;display:{!IF(sofactoapp__Factures_Client__c.TVA_2_1__c != 0 && sofactoapp__factures_client__c.sofactoapp__Afficher_Tableau_Repartition_TVA__c,'', 'none')};font-size=10px">
                        <td colspan="{!colspan1}" class="borderOff"></td>
                        <td style="width:20%" class="alignleft">
                            <apex:outputText value="{!$Label.sofactoapp__text_vatrate}" />&nbsp;
                            <apex:outputPanel rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_2_1__c != 0,'', 'none')}">
                                <apex:outputText value="2,1%" />
                            </apex:outputPanel>
                        </td>
                        <!--td class="alignright" style="width:10%">
                                <apex:outputPanel style="font-size:10px"
                                    rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_2_1__c != 0,'', 'none')}">
                                    <sofactoapp:CurrencyFormat p_amount="{!sofactoapp__Factures_Client__c.Total_HT_soumis_a_2_1_de_TVA__c}" p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"/>
                                </apex:outputPanel>
                            </td
                        <td class="alignright" style="width:15%">
                            <apex:outputPanel rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_2_1__c != 0,'', 'none')}">
                                <sofactoapp:CurrencyFormat p_amount="{!sofactoapp__Factures_Client__c.sofactoapp__TVA_2_1__c}" p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"/>
                            </apex:outputPanel>
                        </td>

                        <!--td class="alignright" style="width:10%">
                                <apex:outputPanel style="font-size:10px"
                                    rendered="{!IF(sofactoapp__Factures_Client__c.sofactoapp__TVA_2_1__c != 0,'', 'none')}">
                                    <sofactoapp:CurrencyFormat p_amount="{!sofactoapp__Factures_Client__c.Total_TTC_2_1_de_TVA__c}" p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"/>
                                </apex:outputPanel>
                            </td

                    </tr>

                    <!--TVA 0%/ VAT 0%-->

                    <!--tr class="borderOff"
                            style="display:{!IF(sofactoapp__Factures_Client__c.Total_HT_soumis_a_0_de_TVA__c != 0,'', 'none')};font-size=10px">
                            <td style="width:60%;display:{!IF (sofactoapp__Factures_Client__c.sofactoapp__Discount_amount__c = 0, '', 'none')}; " class="borderOff">&nbsp;
                            </td>
                            <td class="aligncenter" style="width:10%">
                                <apex:outputPanel rendered="{!IF(sofactoapp__Factures_Client__c.Total_HT_soumis_a_0_de_TVA__c != 0,'', 'none')}">
                                    <apex:outputText style="font-size:10px" value="0%" />
                                </apex:outputPanel>
                            </td>
                            <td class="alignright" style="width:10%">
                                <apex:outputPanel style="font-size:10px"
                                    rendered="{!IF(sofactoapp__Factures_Client__c.Total_HT_soumis_a_0_de_TVA__c != 0,'', 'none')}">
                                    <sofactoapp:CurrencyFormat p_amount="{!sofactoapp__Factures_Client__c.Total_HT_soumis_a_0_de_TVA__c}" p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"/>
                                </apex:outputPanel>
                            </td>
                            <td class="alignright" style="width:10%">
                                <apex:outputPanel style="font-size:10px"
                                    rendered="{!IF(sofactoapp__Factures_Client__c.Total_HT_soumis_a_0_de_TVA__c != 0,'', 'none')}">
                                    <apex:outputText value="0,00€" />
                                </apex:outputPanel>
                            </td>

                            <td class="alignright" style="width:10%">
                                <apex:outputPanel style="font-size:10px"
                                    rendered="{!IF(sofactoapp__Factures_Client__c.Total_HT_soumis_a_0_de_TVA__c != 0,'', 'none')}">
                                    <sofactoapp:CurrencyFormat p_amount="{!sofactoapp__Factures_Client__c.Total_TTC_0_de_TVA__c}" p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"/>
                                </apex:outputPanel>
                            </td>

                        </tr-->

                    <!-- Saut de ligne/ Line Break -->
                    <tr>
                        <td class="borderOff"></td>
                    </tr>

                    <!-- Sous-total/ Subtotal -->
                    <apex:outputPanel layout="none" style="page-break-inside: avoid;page-break-before:auto">
                        <tr>
                            <td class="borderOff" colspan="{!colspan1}">&nbsp;</td>
                            <td><b>
                                    <apex:outputText
                                        value="{!$ObjectType.sofactoapp__Factures_Client__c.fields.sofactoapp__Amount_exVAT__c.label}" />
                                </b>
                            </td>
                            <td class="alignright"><b>
                                    <sofactoapp:CurrencyFormat
                                        p_amount="{!sofactoapp__Factures_Client__c.sofactoapp__Amount_exVAT__c}"
                                        p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}" p_scale="2"
                                        p_stripTrailingZeros="2" /></b></td>
                        </tr>
                        <!-- Montant TVA Total/ Total VAT amount-->
                        <tr
                            style="display:{!IF(sofactoapp__factures_client__c.sofactoapp__Montant_TVA_apres_remise__c != 0,'', 'none')}">
                            <td class="borderOff" colspan="{!colspan1}">&nbsp;</td>
                            <td>
                                <apex:outputText
                                    value="{!$ObjectType.sofactoapp__Factures_Client__c.fields.sofactoapp__Montant_TVA_apres_remise__c.label}" />
                            </td>
                            <td class="alignright">
                                <sofactoapp:CurrencyFormat
                                    p_amount="{!sofactoapp__Factures_Client__c.sofactoapp__Montant_TVA_apres_remise__c}"
                                    p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}" p_scale="2"
                                    p_stripTrailingZeros="2" />
                            </td>
                        </tr>
                        <!-- Total TTC/ Net amount -->
                        <tr>
                            <td class="borderOff" colspan="{!colspan1}">&nbsp;</td>
                            <td><b>
                                    <apex:outputText
                                        value="{!$ObjectType.sofactoapp__Factures_Client__c.fields.sofactoapp__Amount_VAT__c.label}" />
                                </b></td>
                            <td class="alignright"><b>
                                    <sofactoapp:CurrencyFormat
                                        p_amount="{!sofactoapp__Factures_Client__c.sofactoapp__Amount_VAT__c}"
                                        p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}" p_scale="2"
                                        p_stripTrailingZeros="2" /></b></td>
                        </tr>
                    </apex:outputPanel>
                </table>
            </apex:outputPanel>


            <br /><br />

            <!-- Coordonnées bancaires/ Bank Information -->

            <apex:outputPanel layout="none"
                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__Afficher_coordonnees_bancaires__c && OR(NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Autres_coordonnees_bancaires__c)), NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Coordonnees_bancaires_par_defaut__c)))}"
                style="font-size:9px">
                <br />
                <table class="borderOn"
                    style="width:100%;page-break-inside: avoid;page-break-before:auto;font-size:9px;font-family: serif;">
                    <tr>
                        <td
                            style="text-transform: uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <!--Date d'échéance/ Due date-->
                            <b>
                                <apex:outputText
                                    value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Ech_ance__c.Label}" />
                            </b>
                        </td>
                        <td
                            style="text-transform: uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <!--Mode de paiement/ Payment mode-->
                            <b>
                                <apex:outputText
                                    value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Payment_mode__c.Label}" />
                            </b>
                        </td>
                        <td
                            style="text-transform: uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <!--Délai de paiement/ Payment term-->
                            <b>
                                <apex:outputText
                                    value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Delai_paiement__c.Label}" />
                            </b>
                        </td>
                        <td
                            style="text-transform: uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <!--Domiciliation/ Domiciliation-->
                            <b>
                                <apex:outputText
                                    value="{!$ObjectType.sofactoapp__Coordonnees_bancaires__c.Fields.sofactoapp__Banque__c.Label}" />
                            </b>
                        </td>
                        <td
                            style="text-transform: uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <!--IBAN-->
                            <b>
                                <apex:outputText
                                    value="{!$ObjectType.sofactoapp__Coordonnees_bancaires__c.Fields.sofactoapp__IBAN__c.Label}" />
                            </b>
                        </td>
                        <td
                            style="text-transform: uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <!--BIC/ SWIFT CODE -->
                            <b>
                                <apex:outputText
                                    value="{!$ObjectType.sofactoapp__Coordonnees_bancaires__c.Fields.sofactoapp__BIC__c.Label}" />
                            </b>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <!--Date d'échéance/ Due date-->
                            <apex:outputText value="{0,date,dd'/'MM'/'yyyy}">
                                <apex:param value="{!sofactoapp__Factures_Client__c.sofactoapp__Ech_ance__c}" />
                            </apex:outputText>
                        </td>
                        <td>
                            <!--Mode de paiement/ Payment mode-->
                            <apex:outputField value="{!sofactoapp__Factures_Client__c.sofactoapp__Payment_mode__c}" />
                        </td>
                        <td>
                            <!--Délai de paiement/ Payment term-->
                            <!--Délais pas personnalisé / No customized payment term-->
                            <apex:outputPanel layout="none" style="page-break-before:auto; page-break-inside: avoid"
                                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__Delai_paiement__c !='Délai Personnalisé'}">
                                <apex:outputPanel
                                    rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Delai_paiement__c))}"
                                    style="display:block;">


                                    <apex:outputField
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__Delai_paiement__c}" />
                                </apex:outputPanel>
                            </apex:outputPanel>

                            <!--Délais personnalisé / Customized payment term-->
                            <apex:outputPanel layout="none" style="page-break-before:auto; page-break-inside: avoid"
                                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__Delai_paiement__c =='Délai Personnalisé'}">
                                <apex:outputPanel
                                    rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Delai_paiement__c))}"
                                    style="display:block;">

                                    <apex:outputText
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__NombreDeJoursDelaiPaiement__c} " />
                                    <apex:outputField
                                        value="{!sofactoapp__Factures_Client__c.sofactoapp__MethodeCalculEcheancePaiement__c}" />
                                </apex:outputPanel>
                            </apex:outputPanel>
                        </td>
                        <td>
                            <!--Domiciliation/ Domiciliation-->
                            <apex:outputField
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Coordonnees_bancaires_par_defaut__r.sofactoapp__Banque__c}"
                                rendered="{!ISNULL(sofactoapp__Factures_Client__c.sofactoapp__Autres_coordonnees_bancaires__c)}" />
                            <apex:outputField
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__Autres_coordonnees_bancaires__r.sofactoapp__Banque__c}"
                                rendered="{!NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__Autres_coordonnees_bancaires__c))}" />
                        </td>
                        <td>
                            <!--IBAN-->
                            <apex:outputField
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Coordonnees_bancaires_par_defaut__r.sofactoapp__IBAN__c}"
                                rendered="{!ISNULL(sofactoapp__Factures_Client__c.sofactoapp__Autres_coordonnees_bancaires__c)}" />
                            <apex:outputField
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__Autres_coordonnees_bancaires__r.sofactoapp__IBAN__c}"
                                rendered="{!NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__Autres_coordonnees_bancaires__c))}" />
                        </td>
                        <td>
                            <!--BIC/ SWIFT CODE -->
                            <apex:outputField
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Coordonnees_bancaires_par_defaut__r.sofactoapp__BIC__c}"
                                rendered="{!ISNULL(sofactoapp__Factures_Client__c.sofactoapp__Autres_coordonnees_bancaires__c)}" />
                            <apex:outputField
                                value="{!sofactoapp__Factures_Client__c.sofactoapp__Autres_coordonnees_bancaires__r.sofactoapp__BIC__c}"
                                rendered="{!NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__Autres_coordonnees_bancaires__c))}" />
                        </td>
                    </tr>

                </table>

            </apex:outputPanel>




            <!--Bas de page Facture Brouillon - Proforma/ Invoice Conditions Draft - Proforma-->
            <br /><br />


            <table style="page-break-inside: avoid;page-break-before:auto">
                <tr>
                    <td class="borderOn"
                        style="border-left: hidden; border-right: hidden; border-top:0.1px solid grey; border-bottom:0.1px solid grey;">
                        <apex:outputPanel layout="none" style="page-break-inside: avoid;page-break-before:auto"
                            rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == false}">

                            <!--Pénalités en cas de retard/ Penalties in case of delay-->
                            <apex:outputPanel layout="block" style="page-break-inside: avoid;page-break-before:auto">
                                <br />
                                <b>
                                    <apex:outputText style="font-size:10px"
                                        value="{!$ObjectType.sofactoapp__Raison_Sociale__c.Fields.sofactoapp__P_nalit_s_en_cas_de_retard__c.Label}" />
                                </b>

                                <apex:outputText style="font-size:12px"
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__P_nalit_s_en_cas_de_retard__c}" />
                            </apex:outputPanel>


                            <!-- Conditions particulières/ Special conditions -->

                            <apex:outputPanel layout="none" style="page-break-inside: avoid;page-break-before:auto"
                                rendered="{!IF(NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__Conditions_Particuli_res__c)), '', 'none')}">
                                <br />
                                <b>
                                    <apex:outputText style="font-size:10px"
                                        value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Conditions_Particuli_res__c.Label}" />
                                </b>
                                <br />


                                <apex:outputText style="font-size:12px"
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__Conditions_Particuli_res__c}" />
                            </apex:outputPanel>

                            <!-- Conditions d'escompte/ Discount conditions -->
                            <apex:outputPanel layout="none" style="page-break-inside: avoid;page-break-before:auto"
                                rendered="{!IF(NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__ConditionsEscompte__c)), '', 'none')}">
                                <br />
                                <b>
                                    <apex:outputText style="font-size:10px"
                                        value="{!$ObjectType.sofactoapp__Raison_Sociale__c.Fields.sofactoapp__ConditionsEscompte__c.Label}" />
                                </b><br />

                                <apex:outputText style="font-size:12px"
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__ConditionsEscompte__c}" />
                                <br />
                            </apex:outputPanel>

                            <!--Indemnité forfaitaire/ Lump sum compensation-->

                            <apex:outputPanel layout="none" style="page-break-inside: avoid;page-break-before:auto"
                                rendered="{!IF(NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__L_indemnit_forfaitaire__c)), '', 'none')}">
                                <br />

                                <b>
                                    <apex:outputText style="font-size:10px"
                                        value="{!$ObjectType.sofactoapp__Raison_Sociale__c.Fields.sofactoapp__L_indemnit_forfaitaire__c.Label}" />
                                </b><br />
                                <apex:outputText style="font-size:12px"
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__L_indemnit_forfaitaire__c}" />
                            </apex:outputPanel>

                            <!--Mention TVA/ VAT statement-->

                            <apex:outputPanel layout="none" style="page-break-inside: avoid;page-break-before:auto"
                                rendered="{!IF(NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__MentionsTVA__c)), '', 'none')}">
                                <br />

                                <b>
                                    <apex:outputText
                                        value="{!$ObjectType.sofactoapp__Raison_Sociale__c.Fields.sofactoapp__MentionsTVA__c.Label}"
                                        style="font-size:10px" />
                                </b><br />
                                <apex:outputText style="font-size:12px"
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__MentionsTVA__c}" />

                            </apex:outputPanel>

                            <!-- Informations complémentaires/ Additional information -->
                            <apex:outputPanel
                                rendered="{!IF(NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Informations_compl_mentaires__c)), '', 'none')}">
                                <br />
                                <br />
                                <b>
                                    <apex:outputText style="font-size:10px"
                                        value="{!$ObjectType.sofactoapp__Raison_Sociale__c.Fields.sofactoapp__Informations_compl_mentaires__c.Label}" />
                                </b><br />
                                <apex:outputText
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Informations_compl_mentaires__c}" />

                            </apex:outputPanel>
                        </apex:outputPanel>
                    </td>
                </tr>
            </table>
            <apex:outputPanel style="page-break-inside: avoid;page-break-before:auto" layout="none"
                rendered="{!sofactoapp__Factures_Client__c.sofactoapp__IsSent__c == true}">
                <!--Bas de page Facture Originale - Duplicata/ Invoice Conditions Original - Duplicate-->
                <table style="page-break-inside: avoid;page-break-before:auto">
                    <tr>
                        <td class="borderOn"
                            style="border-left: hidden; border-right: hidden; border-top:0.1px solid grey; border-bottom:0.1px solid grey;">


                            <!--Pénalités en cas de retard/ Penalties in case of delay-->
                            <apex:outputPanel layout="block" style="page-break-inside: avoid;page-break-before:auto">
                                <b>
                                    <apex:outputText style="font-size:10px"
                                        value="{!$ObjectType.sofactoapp__Raison_Sociale__c.Fields.sofactoapp__P_nalit_s_en_cas_de_retard__c.Label}" />
                                    :&nbsp;</b>
                                <br />
                                <apex:outputText style="font-size:12px"
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__RS_Penalites_Emise__c}" />
                            </apex:outputPanel>
                            <!-- Conditions particulières/ Special conditions -->

                            <apex:outputPanel layout="none" style="page-break-inside: avoid;page-break-before:auto"
                                rendered="{!IF(NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__Conditions_Particuli_res__c)), '', 'none')}">
                                <br />

                                <b>
                                    <apex:outputText style="font-size:10px"
                                        value="{!$ObjectType.sofactoapp__Factures_Client__c.Fields.sofactoapp__Conditions_Particuli_res__c.Label}" />
                                </b>
                                <br />
                                <apex:outputText style="font-size:12px"
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__Conditions_Particuli_res__c}" />
                            </apex:outputPanel>
                            <!-- Conditions d'escompte/ Discount conditions -->
                            <apex:outputPanel layout="none" style="page-break-inside: avoid;page-break-before:auto"
                                rendered="{!IF(NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__ConditionsEscompte__c)), '', 'none')}">
                                <br />
                                <b>
                                    <apex:outputText style="font-size:10px"
                                        value="{!$ObjectType.sofactoapp__Raison_Sociale__c.Fields.sofactoapp__ConditionsEscompte__c.Label}" />
                                </b>
                                <br />

                                <apex:outputText style="font-size:12px"
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__RS_ConditionsEscompte_Emise__c}" />
                                <br />
                            </apex:outputPanel>

                            <!--Indemnité forfaitaire/ Lump sum compensation-->

                            <apex:outputPanel layout="none" style="page-break-inside: avoid;page-break-before:auto"
                                rendered="{!IF(NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__L_indemnit_forfaitaire__c)), '', 'none')}">
                                <br />
                                <b>
                                    <apex:outputText style="font-size:10px"
                                        value="{!$ObjectType.sofactoapp__Raison_Sociale__c.Fields.sofactoapp__L_indemnit_forfaitaire__c.Label}" />
                                </b><br />
                                <apex:outputText style="font-size:12px"
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__RS_L_indemnit_forfaitaire_Emise__c}" />
                                <br />

                            </apex:outputPanel>

                            <!--Mention TVA/ VAT statement-->

                            <apex:outputPanel layout="none" style="page-break-inside: avoid;page-break-before:auto"
                                rendered="{!IF(NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__MentionsTVA__c)), '', 'none')}">
                                <br />
                                <b>
                                    <apex:outputText
                                        value="{!$ObjectType.sofactoapp__Raison_Sociale__c.Fields.sofactoapp__MentionsTVA__c.Label}"
                                        style="font-size:10px" />
                                </b><br />
                                <apex:outputText style="font-size:12px"
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__MentionsTVA__c}" />

                            </apex:outputPanel>

                            <!-- Informations complémentaires/ Additional information -->
                            <apex:outputPanel
                                rendered="{!IF(NOT(ISNULL(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Informations_compl_mentaires__c)), '', 'none')}">
                                <br />
                                <br />
                                <b>
                                    <apex:outputText style="font-size:10px"
                                        value="{!$ObjectType.sofactoapp__Raison_Sociale__c.Fields.sofactoapp__Informations_compl_mentaires__c.Label}" />
                                </b><br />
                                <apex:outputText
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Informations_compl_mentaires__c}" />

                            </apex:outputPanel>

                        </td>
                    </tr>
                </table>
            </apex:outputPanel>
            <!-- Indice/ Index -->
            <apex:outputPanel layout="none"
                rendered="{!NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__IndiceId__c))}">
                <table class="borderOn" style="page-break-inside: avoid;page-break-before:auto">
                    <!-- Saut de ligne/ Line Break -->
                    <tr>
                        <td class="borderOff">
                            &nbsp;</td>
                    </tr>
                    <tr>
                        <td>
                            <apex:outputText style="font-size:15px;text-transform:uppercase;"
                                value="{!$Label.sofactoapp__text_index_title}" /><br />
                            <apex:outputText value="{!$Label.sofactoapp__text_formule_indice}" />

                            <br />
                            <apex:outputText
                                value="S0 = {!$Label.sofactoapp__text_index} {!sofactoapp__Factures_Client__c.sofactoapp__Abonnement__r.sofactoapp__Indice__r.Name} {0,date,dd'/'MM'/'yyyy}">
                                <apex:param
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__Abonnement__r.sofactoapp__Date_indice_reference__c}" />
                            </apex:outputText>
                            &nbsp;=&nbsp;

                            <apex:outputText value="{0, number, ###.00}">
                                <apex:param
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__Abonnement__r.sofactoapp__Coefficient_indice_reference__c}" />
                            </apex:outputText>

                            <br />
                            <apex:outputText
                                value="S1 = {!$Label.sofactoapp__text_index} {!sofactoapp__Factures_Client__c.sofactoapp__Abonnement__r.sofactoapp__Indice__r.Name} {0,date,dd'/'MM'/'yyyy}">
                                <apex:param value="{!sofactoapp__Factures_Client__c.sofactoapp__Date_indice__c}" />
                            </apex:outputText>
                            &nbsp;=&nbsp;
                            <apex:outputText value="{0, number, ###.00}">
                                <apex:param
                                    value="{!sofactoapp__Factures_Client__c.sofactoapp__Coefficient_indice_date__c}" />
                            </apex:outputText>
                        </td>
                    </tr>
                </table>

            </apex:outputPanel>

            <!-- Echéancier/ Payment Plan -->

            <apex:outputPanel rendered="{!IF(AND(sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__isDisplayPaymentSchedule__c,
        NOT(ISBLANK(sofactoapp__Factures_Client__c.sofactoapp__Echeancier_reglement__c)),
        sofactoapp__Factures_Client__c.sofactoapp__Type_de_facture__c<>'Avoir'), '', 'none')}">

                <!--Entête/ Header-->
                <table class="borderOn" style="padding:0; margin:0;page-break-before:auto; page-break-inside: avoid;">
                    <!-- Saut de ligne/ Line Break -->
                    <tr class="borderOff">
                        <td colspan="3">&nbsp;</td>
                    </tr>
                    <!--Titre Echeancier/ Payment Plan Title-->
                    <tr style="display:{!IF(numPayments > 1, '', 'none')}">
                        <td colspan="6" class="borderOff alignleft"
                            style="text-align: center; text-transform: uppercase; font-weight: bold;display:{!IF(sofactoapp__Factures_Client__c.sofactoapp__Payment_mode__c='Stripe CB', '', 'none')}">
                            <apex:outputText value="{!$Label.sofactoapp__text_paymentschedule}" />
                        </td>
                        <td colspan="5" class="borderOff alignleft"
                            style="text-align: center; text-transform: uppercase; font-weight: bold;display:{!IF(sofactoapp__Factures_Client__c.sofactoapp__Payment_mode__c='Stripe CB', 'none', '')}">
                            <apex:outputText value="{!$Label.sofactoapp__text_paymentschedule}" />
                        </td>
                    </tr>
                    <!--Titre Règlement/ Payment Title-->
                    <tr style="display:{!IF(numPayments = 1, '', 'none')}">
                        <td colspan="6" class="borderOff alignleft"
                            style="text-align: center; text-transform: uppercase; font-weight: bold;display:{!IF(sofactoapp__Factures_Client__c.sofactoapp__Payment_mode__c='Stripe CB', '', 'none')}">
                            <apex:outputText value="{!$ObjectType.sofactoapp__R_glement__c.Label}" />
                        </td>
                        <td colspan="5" class="borderOff alignleft"
                            style="text-align: center; text-transform: uppercase; font-weight: bold;display:{!IF(sofactoapp__Factures_Client__c.sofactoapp__Payment_mode__c='Stripe CB', 'none', '')}">
                            <apex:outputText value="{!$ObjectType.sofactoapp__R_glement__c.Label}" />
                        </td>
                    </tr>

                    <tr style="page-break-inside:avoid; page-break-before:auto;">
                        <td width="10%" class="aligncenter"
                            style="text-transform:uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            N°
                        </td>
                        <!--Date de règlement/ Payment date-->
                        <td width="18%" class="aligncenter"
                            style="text-transform:uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <apex:outputText
                                value="{!$ObjectType.sofactoapp__R_glement__c.Fields.sofactoapp__Date__c.Label}" />
                        </td>
                        <!--Montant HT du règlement/ Amount before tax of the payment-->
                        <td width="18%" class="aligncenter"
                            style="text-transform:uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <apex:outputText
                                value="{!$ObjectType.sofactoapp__R_glement__c.Fields.sofactoapp__AutoAmountBeforeTax__c.Label}" />
                        </td>
                        <!--Montant TVA du règlement/ VAT Amount of the payment-->
                        <td width="18%" class="aligncenter"
                            style="text-transform:uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <apex:outputText
                                value="{!$ObjectType.sofactoapp__R_glement__c.Fields.sofactoapp__AutoVATAmount__c.Label}" />
                        </td>
                        <!--Montant TTC du règlement/ Amount after tax of the payment-->
                        <td width="18%" class="aligncenter"
                            style="text-transform:uppercase;border-left: hidden; border-right: hidden; border-top:hidden; border-bottom:0.2px solid black;">
                            <apex:outputText
                                value="{!$ObjectType.sofactoapp__R_glement__c.Fields.sofactoapp__Montant__c.Label}" />
                        </td>

                    </tr>
                    <!--Lignes d’échéancier de règlement/ Payment plan items-->
                    <apex:variable var="counter" value="{!1}" />

                    <apex:repeat value="{!orderedPayments}" var="orderedPaymentsLigne" id="orderedPaymentsLignes">

                        <apex:repeat value="{!sofactoapp__Factures_Client__c.sofactoapp__R_glements__r}"
                            var="paymentLigne" id="paymentLignes">

                            <apex:outputPanel layout="none" rendered="{!paymentLigne.Id == orderedPaymentsLigne}">
                                <apex:outputPanel layout="none">

                                    <tr style="page-break-inside:avoid; page-break-before:auto">

                                        <!--Numéro de la ligne/ Line Number-->
                                        <td width="10%" style="text-align:center;">
                                            <apex:outputText value="{!counter}" />
                                            <apex:variable var="counter" value="{!counter+ 1}" />
                                        </td>
                                        <!--Date de règlement/ Payment date-->
                                        <td width="18%" style="text-align:center;">
                                            <apex:outputText value="{0,date,dd'/'MM'/'yyyy}">
                                                <apex:param value="{!paymentLigne.sofactoapp__Date__c}" />
                                            </apex:outputText>

                                        </td>
                                        <!--Montant HT du règlement/ Amount before tax of the payment-->
                                        <td width="18%" style="text-align:center;">
                                            <sofactoapp:CurrencyFormat
                                                p_amount="{!paymentLigne.sofactoapp__AutoAmountBeforeTax__c}"
                                                p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"
                                                p_scale="2" p_stripTrailingZeros="2" />
                                        </td>
                                        <!--Montant TVA du règlement/ VAT Amount of the payment-->
                                        <td width="18%" style="text-align:center;">
                                            <sofactoapp:CurrencyFormat
                                                p_amount="{!paymentLigne.sofactoapp__AutoVATAmount__c}"
                                                p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"
                                                p_scale="2" p_stripTrailingZeros="2" />
                                        </td>
                                        <!--Montant TTC du règlement/ Amount after tax of the payment-->
                                        <td width="18%" style="text-align:center;">
                                            <sofactoapp:CurrencyFormat p_amount="{!paymentLigne.sofactoapp__Montant__c}"
                                                p_language="{!sofactoapp__Factures_Client__c.sofactoapp__Langue__c}"
                                                p_scale="2" p_stripTrailingZeros="2" />
                                        </td>

                                    </tr>

                                </apex:outputPanel>
                            </apex:outputPanel>

                        </apex:repeat>
                    </apex:repeat>
                </table>

            </apex:outputPanel>
        </table>
    </div>
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Afficher_pourcentage__c}" rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Afficher_remise__c}" rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__RS_Code_NAF_Emise__c}" rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__RS_TVA_intra_Emise__c}" rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__c}" rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__r.sofactoapp__Pays_facturation__c}" rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Ville_RCS__c}" rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__SIREN_NIF__c}" rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Lettre_RCS__c}" rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Afficher_Tableau_Repartition_TVA__c}"
        rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Lettre_RCS__c}"
        rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.sofactoapp__Lettre_RCS__c}"
        rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__r.sofactoapp__Lettre_RCS__c}"
        rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__r.sofactoapp__Ville_RCS__c}"
        rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Donnee_Comptable__r.sofactoapp__SIREN_NIF__c}"
        rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__Ville_RCS__c}"
        rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.sofactoapp__Ville_RCS__c}"
        rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Compte__r.sofactoapp__SIREN_NIF__c}"
        rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__APE__c}"
        rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__TVA_intra__c}"
        rendered="false" />
    <apex:outputText
        value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__isDisplayPaymentSchedule__c}"
        rendered="false" />
    <apex:outputText
        value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__isDisplayAccountNumber__c}"
        rendered="false" />
    <apex:outputText
        value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__isDisplayAccountOwner__c}"
        rendered="false" />
    <apex:outputText
        value="{!sofactoapp__Factures_Client__c.sofactoapp__emetteur_facture__r.sofactoapp__isDisplayOpportunityOwner__c}"
        rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Montant_remise_lignes__c}" rendered="false" />
    <apex:outputText value="{!sofactoapp__Factures_Client__c.sofactoapp__Echeancier_reglement__c}" rendered="false" />
</apex:page>